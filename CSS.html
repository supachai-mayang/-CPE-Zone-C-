<style>
/* --- Basic Setup & Mourning Theme --- */
:root {
/* สีหลักของ NT */
--nt-yellow: #FFD100;
--nt-gray: #545859;

/* สีที่ปรับแล้วเพื่อการไว้ทุกข์ */
--muted-yellow: #b0a470;
--muted-gray: #545859;
--muted-light-gray: #f0f0f0;
--muted-white: #fafafa;
--muted-text: #333333;
--muted-border: #cccccc;
--muted-hover: #e0e0e0;

/* (--- NEW COLOR ---) */
--saved-color: #38a169; /* สีเขียวสำหรับสถานะ "บันทึกแล้ว" */
}

html {
filter: grayscale(85%) saturate(60%);
-webkit-filter: grayscale(85%) saturate(60%);
}

body {
font-family: 'Sarabun', sans-serif;
background-color: var(--muted-light-gray);
color: var(--muted-text);
margin: 0;
padding: 0;
}

.container {
max-width: 1200px;
margin: 20px auto;
padding: 20px;
background-color: var(--muted-white);
border-radius: 8px;
box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

header {
text-align: center;
border-bottom: 3px solid var(--muted-yellow);
padding-bottom: 15px;
margin-bottom: 20px;
}
header h1 { color: var(--muted-gray); margin: 0; font-size: 1.8rem; }
header h2 { color: var(--muted-text); margin: 5px 0 0; font-size: 1.2rem; font-weight: 400; }

/* --- Filters --- */
.filter-section {
display: flex;
flex-wrap: wrap;
gap: 20px;
margin-bottom: 20px;
padding: 15px;
background-color: var(--muted-light-gray);
border-radius: 8px;
}
.filter-group { flex: 1; min-width: 250px; display: flex; flex-direction: column; }
.filter-group label { font-weight: 700; margin-bottom: 5px; }
.filter-group select,
.filter-group input[type="text"] {
font-family: 'Sarabun', sans-serif;
padding: 10px;
border: 1px solid var(--muted-border);
border-radius: 6px;
font-size: 1rem;
}

/* --- Table --- */
.table-wrapper { width: 100%; overflow-x: auto; }
#data-table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
#data-table th,
#data-table td { padding: 12px 15px; text-align: left; border-bottom: 1px solid var(--muted-border); }
#data-table th { background-color: var(--muted-gray); color: var(--muted-white); font-weight: 700; }
#data-table tbody tr:nth-child(even) { background-color: var(--muted-light-gray); }
#data-table tbody tr:hover { background-color: var(--muted-hover); cursor: pointer; }
#data-table td:last-child { text-align: center; color: var(--muted-gray); }

/* (--- START: UPDATED ICONS ---) */
.saved-icon {
  color: var(--saved-color);
  filter: saturate(1.5); /* ทำให้สีสดขึ้นเล็กน้อยท่ามกลางธีมสีหม่น */
  font-size: 1.1rem;
  margin-right: 8px;
  vertical-align: middle;
}
.edit-icon {
  color: var(--muted-gray);
  font-size: 1.1rem;
  vertical-align: middle;
}
/* (--- END: UPDATED ICONS ---) */

#row-counter { margin-top: 15px; font-size: 0.9rem; color: var(--muted-text); }

/* --- Loader Spinner --- */
.loader-backdrop {
position: fixed; top: 0; left: 0; width: 100%; height: 100%;
background-color: rgba(0, 0, 0, 0.6);
display: flex; flex-direction: column; justify-content: center; align-items: center;
z-index: 2000; color: white; visibility: hidden; opacity: 0;
transition: opacity 0.3s ease;
}
.loader-spinner {
border: 8px solid #f3f3f3; border-top: 8px solid var(--muted-yellow);
border-radius: 50%; width: 60px; height: 60px;
animation: spin 1s linear infinite;
}
#loader-text { margin-top: 15px; font-size: 1.1rem; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* --- Modal --- */
.modal-backdrop {
position: fixed; top: 0; left: 0; width: 100%; height: 100%;
background-color: rgba(0, 0, 0, 0.6); z-index: 1000;
overflow-y: auto; padding: 20px; box-sizing: border-box;
}
.modal-content {
background-color: var(--muted-white); max-width: 800px;
margin: 50px auto; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
.modal-header {
display: flex; justify-content: space-between; align-items: center;
padding: 15px 25px; background-color: var(--muted-gray);
color: var(--muted-white); border-top-left-radius: 8px; border-top-right-radius: 8px;
}
.modal-header h2 { margin: 0; font-size: 1.4rem; }
.modal-close-btn {
background: none; border: none; color: var(--muted-white);
font-size: 2rem; cursor: pointer; line-height: 1;
}

#survey-form { padding: 25px; max-height: calc(100vh - 200px); overflow-y: auto; }
.modal-section { margin-bottom: 25px; border-bottom: 1px solid var(--muted-border); padding-bottom: 15px; }
.modal-section h3 {
color: var(--muted-gray); margin-top: 0;
border-bottom: 2px solid var(--muted-yellow); padding-bottom: 5px;
}
.section-note { font-size: 0.9rem; color: #666; margin-top: -10px; margin-bottom: 15px; }

/* Modal Info Section */
.info-section { background-color: var(--muted-light-gray); padding: 15px; border-radius: 6px; }
.info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

/* Modal Form */
.form-group { margin-bottom: 15px; }
.form-group label { display: block; font-weight: 700; margin-bottom: 8px; }
.form-group label small { font-weight: 400; color: #555; }
.form-group input[type="text"],
.form-group textarea {
width: 100%; padding: 10px; font-family: 'Sarabun', sans-serif;
font-size: 1rem; border: 1px solid var(--muted-border);
border-radius: 6px; box-sizing: border-box;
}

.upload-group input[type="text"] {
margin-bottom: 10px; /* เว้นระยะห่าง S/N กับปุ่มอัปโหลด */
}

/* (V.2) Styles for Custom File Button */
.file-input-hidden {
display: none; /* ซ่อน input[type=file] จริง */
}
.custom-file-upload-btn {
font-family: 'Sarabun', sans-serif; /* ใช้ Font Sarabun */
background-color: var(--muted-gray);
color: var(--muted-white);
padding: 10px 15px;
border-radius: 6px;
cursor: pointer;
display: inline-block;
font-size: 0.95rem;
font-weight: 400;
transition: background-color 0.2s ease;
}
.custom-file-upload-btn:hover {
background-color: #333;
}
.custom-file-upload-btn i {
margin-right: 8px;
}
.file-name-display {
font-family: 'Sarabun', sans-serif;
font-size: 0.9rem;
margin-left: 10px;
color: #555;
}

.preview-img {
display: none; max-width: 200px; max-height: 200px;
margin-top: 10px; border: 1px solid var(--muted-border);
border-radius: 4px;
}

/* (--- CSS UPDATES (จากครั้งก่อน) ---) */
.modal-footer {
display: flex;
flex-wrap: wrap; /* เปลี่ยนเป็น wrap */
align-items: center;
margin-top: 25px;
}
.recorder-info {
display: flex; 
gap: 15px; 
width: 100%; /* ให้เต็มความกว้าง */
margin-bottom: 15px; /* เว้นระยะห่างก่อนปุ่ม */
}
.recorder-info .form-group {
flex: 1;
min-width: 150px;
margin-bottom: 0;
}
.footer-buttons {
display: flex; 
gap: 10px; 
width: 100%; /* ให้เต็มความกว้าง */
justify-content: flex-end; /* จัดปุ่มชิดขวา */
}
/* (--- END CSS UPDATES ---) */


/* Buttons */
.btn {
font-family: 'Sarabun', sans-serif; padding: 12px 20px;
border: none; border-radius: 6px; cursor: pointer;
font-size: 1rem; font-weight: 700;
transition: background-color 0.2s ease;
}
.btn-primary { background-color: var(--muted-gray); color: var(--muted-white); }
.btn-primary:hover { background-color: #333; }
.btn-secondary { background-color: var(--muted-border); color: var(--muted-text); }
.btn-secondary:hover { background-color: #bbb; }

</style>
